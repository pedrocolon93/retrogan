# RetroGAN
Code for paper: RetroGAN: A Cyclic Post-Specialization System for Improving Out-of-Knowledge and Rare Word Representations 
coming out in ACL FINDINGS 2021.
## Getting Started
1. Create an environment with conda 
   >conda create -n retrogan python=3.8
2. Activate the environment
   >conda activate retrogan
3. Install requirements:
   >cd Code
   > 
   >pip install -r requirements.txt
4. Run experiments:
   >python retrogan_trainer.py --epochs 150 ../Data/ft_all_unseen.txt ../Data/ft_all_unseen_retrofitted.txt retrogan_nb_full_50epochs_alllosses models/retrogan_nb_full_50epochs_alllosses

## Parameter Tuning
To run the parameter fine tuning, after installing the requirements, run:
> python rg_ray_parameter_tuning.py

NOTE: It may be the case that you run into an error with the msgpack library (something about an unknown argument), if that is the case, uninstall, and reinstall the msgpack libary:
> pip uninstall msgpack
> 
> pip install msgpack
## Tests
You can also run the ablation, full/disjoint, and percentage tests that were reported in the paper with the respective scripts:
* ablationtests.sh
* full_and_oov_tests.sh
* oovtests.sh

## Expected results
Here is a table with the expected results:
![Results](Results/paper/results.png)

## Ablation study results
### One by one removal
Here is a higher resolution version of the plots given in ablation study.
![r1](Results/ablation/resultplots/simlex-full-ablation.png)
![r2](Results/ablation/resultplots/simlex-disjoint-ablation.png)
![r3](Results/ablation/resultplots/simverb-full-ablation.png)
![r4](Results/ablation/resultplots/simverb-disjoint-ablation.png)
![r5](Results/ablation/resultplots/card-full-ablation.png)
![r6](Results/ablation/resultplots/card-disjoint-ablation.png)
These results can be generated by running the script:
> cd Scripts
> 
> sh ablationtests.sh
### Toggling of losses
Here is a higher resolution version of the plots given in the toggle ablation study
![r7](Results/ablation/toggleresultplots/simlex-full-ablation-toggle.png)
![r8](Results/ablation/toggleresultplots/simlex-disjoint-ablation-toggle.png)
![r9](Results/ablation/toggleresultplots/simverb-full-ablation-toggle.png)
![r10](Results/ablation/toggleresultplots/simverb-disjoint-ablation-toggle.png)
![r11](Results/ablation/toggleresultplots/card-full-ablation-toggle.png)
![r12](Results/ablation/toggleresultplots/card-disjoint-ablation-toggle.png)
These results can be generated by running the script:
> cd Scripts
> 
> sh ablationtests-2.sh
## Citing
TBD